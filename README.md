#**使用说明**


#源代码编译

安装Node.js v22.19.0 x64

```sh
cd 主目录
```

```sh
npm install
```

```sh
npm run build
```


# Obsidian 页面管理插件

这是一个用于 Obsidian 的插件，提供快速创建和删除页面的功能，同时支持灵活的链接格式和文件组织方式。

## 功能特性

### 1. 新建页面

- 选中任意文本，右键选择"新建页面"
- 自动创建以选中文本命名的新笔记
- 在当前位置插入指向新笔记的链接
- 可选择是否自动跳转到新创建的笔记

### 2. 删除页面

- 将光标放在任何链接上，右键选择"删除页面"
- 自动删除链接指向的笔记文件
- 可选择是否同时删除链接文本或仅删除链接符号
- 自动清理空文件夹

## 插件设置

### 选项1: 跳转页面

控制创建新页面后是否自动跳转到新页面

- **开启**：创建后自动跳转到新页面
- **关闭**：仅创建页面，不跳转（默认：开启）

### 选项2: 打开窗口方式

当跳转页面功能开启时，选择新页面的打开方式

- **当前页**：在当前标签页中打开
- **新标签页**：在新标签页中打开
- **分屏**：在分屏窗口中打开（默认：当前页）

### 选项3: 选择新建文件保存位置

指定新建笔记的保存位置

- **当前文件所在文件夹下**：保存在当前文件同一目录
- **当前文件所在文件夹下子文件夹**：创建以当前文件名命名的子文件夹来保存
- **自定义位置**：指定特定文件夹路径保存（默认：子文件夹）

### 选项4: 链接显示类型

选择插入的链接格式类型

- **Wiki**：使用 `[[文件名]]` 或 `[[路径/文件名|显示文本]]` 格式
- **Markdown**：使用 `[显示文本](文件名)` 或 `[显示文本](路径/文件名)` 格式（默认：Markdown）

### 选项5: 链接显示方式

控制链接路径的显示方式

- **尽可能简短的形式**：仅显示文件名（默认）
- **基于当前笔记的相对路径**：显示相对于当前文件的路径
- **基于仓库根目录的绝对路径**：显示从仓库根目录开始的完整路径

链接格式示例：

- Wiki链接：
    - 简短形式：`[[文件名]]`
    - 相对路径形式：`[[相对路径/文件名.md|文件名]]`
    - 绝对路径形式：`[[完整路径/文件名.md|文件名]]`
- Markdown链接：
    - 简短形式：`[文件名](文件名.md)`
    - 相对路径形式：`[文件名](相对路径/文件名.md)`
    - 绝对路径形式：`[文件名](完整路径/文件名.md)`

### 选项6: 删除页面时是否删除链接文字

控制删除页面时如何处理链接文本

- **开启**：删除页面同时删除整个链接文本（默认）
- **关闭**：仅删除链接符号，保留显示文本

示例：对于链接 `[[test/page.md|page1]]` 或 `[page1](test/page.md)`

- 开启时：删除后文本完全消失
- 关闭时：删除后仅保留 `page`

### 选项7: 删除页面后是否删除文件夹

控制删除页面后是否清理空文件夹

- **开启**：删除页面后，如果所在文件夹为空则自动删除该文件夹（默认）
- **关闭**：仅删除页面文件，保留空文件夹

### 选项8: 是否显示标题行

控制新建页面是否自动生成标题行

- **开启**：新建页面自动添加以文件名作为内容的一级标题（默认）
- **关闭**：新建页面为空白内容

## 使用方法

1. **创建新页面**：
    
    - 在编辑器中选中要作为页面标题的文本
    - 右键选择"新建页面"
    - 插件会自动创建新笔记并插入链接
2. **删除页面**：
    
    - 将光标放在任何链接上
    - 右键选择"删除页面"
    - 插件会删除链接指向的文件并按设置处理链接文本

## 安装说明

1. 下载插件文件到 Obsidian 的 `.obsidian/plugins/` 目录
2. 在 Obsidian 设置中启用插件
3. 根据需要在插件设置中调整各项配置

## 注意事项

- 插件会自动处理特殊字符，将文件名中的非法字符替换为下划线
- 删除操作会将文件移至回收站，不会直接永久删除
- 相对路径链接会自动适应文件移动和重命名操作
